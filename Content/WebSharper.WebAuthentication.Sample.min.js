import { Start as fM } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fN, SetOptional as fO, GetOptional as fP, CreateFuncWithArgs as fQ, DeleteEmptyFields as fR, Lazy as fS, Create as fT, OnLoad as fU } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fV){ return"Dispose"in fV;}
function b(){ const fV=new p("New_1");const fW=(fV.h.push(q(fV.k, "registerbtn", () => fV.i, () => { const f2=null;N(K(() => L(s(c()), () => M(null))), null);})),fV);const fX=(fW.h.push(q(fW.k, "loginbtn", () => fW.i, () => { const f2=null;N(K(() => L(s(d()), () => M(null))), null);})),fW);const fY=r(fX.k, fX.h, []);const fZ=new k(fY[1], F(fY[0]));let f0=(fX.i=fZ,fZ);const f1=f0.Doc;Z("");bg.RunById("main", f1);}
function c(){ const fV=null;return new Promise((fW) => { const fX={pubKeyCredParams:[{alg:-7, type:"public-key"}], rp:{name:"My Demo App"}, challenge:f("random-challenge"), user:{displayName:"Test User", id:f("user-id"), name:"user@example.com"}};let fY=new Promise((fZ) => { fZ(globalThis.navigator.credentials.create({publicKey:fX}).then((f0) => { e().Set(f0.rawId);alert("\u2705 Registered successfully!");console.log("Credential:", f0);return Promise.resolve(null);}));})["catch"]((fZ) => { const f0=t(fZ);alert("\u274c Registration failed");console.error(f0);return Promise.resolve(null);});fW(fY);});}
function d(){ const fV=null;return new Promise((fW) => { let fX;let fY;if(e().Get()==null)fX=(alert("\u2757 Register first!"),Promise.resolve(null));else { const fZ={id:e().Get(), type:"public-key"};const f0=(fY={challenge:f("random-challenge")},fY.allowCredentials=[fZ],fY);fX=new Promise((f1) => { f1(globalThis.navigator.credentials.get({publicKey:f0}).then((f2) => { alert("\u2705 Login successful!");console.log("Assertion:", f2);return Promise.resolve(null);}));})["catch"]((f1) => { const f2=t(f1);alert("\u274c Login failed");console.error(f2);return Promise.resolve(null);});} fW(fX);});}
function e(){ return bm.savedCredentialId;}
function f(fV){ return eval("new TextEncoder()").encode(fV);}
function g(fV){ throw new Error(fV);}
function h(fV){ return[fV.K, fV.V];}
function i(fV, fW){ const fX=1+fW-fV;return fX<=0?[]:bA(fX, (fY) => fY+fV);}
class j { Equals(fV){ return this===fV;} GetHashCode(){ return -1;} }
class k extends j { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fV){ this.anchorRoot=fV;} constructor(fV, fW){ super();this.doc=fW;this.allVars=fV.$==0?fV.$0:g("Should not happen");this.anchorRoot=null;} }
function l(fV, fW){ n(fV, fW);return fV[fW];}
function m(fV, fW, fX){ n(fV, fW);fV[fW]=fX;}
function n(fV, fW){ if(fW<0||fW>=fV.length)g("Index was outside the bounds of the array.");}
function o(fV){ return fV.dims===2?fV.length*fV.length:fV.length;}
class p extends j { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fV){ if(fV=="New_1"){ let fW;super();this.i=null;this.k=(fW=G(),String(fW));this.h=fN([]);fO(this, "s", null);} } }
function q(fV, fW, fX, fY){ return new I(fW, (fZ) =>(f0) => { const f1=fX();f1.SetAnchorRoot(fZ);return fY({Vars:f1, Anchors:f1, Target:fZ, Event:f0});});}
function r(fV, fW, fX){ const fY=new bh("New_5");const fZ=new bq("New_3");const f0=ca(fW);try { while(f0.MoveNext()){ const f1=f0.Current;const f2=f1.Name;fZ.SAdd(f2);fY.set_Item(f2, f1);} } finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} return[br(fW, bG((f3) => { const f4=f3[0];const f5=f3[1];const f6=f3[2];if(fZ.Contains(f4))return null;else { const f7=f5===0?bV.GetOrAddHoleFor(fV, f4, () => { const f8=f6==null?null:Y(f6.$0);let f9=bX.Create_1(f8==null?"":f8.$0);return new bW(f4, f9);}):f5===1?bV.GetOrAddHoleFor(fV, f4, () => { const f8=f6==null?null:Y(f6.$0);let f9=bX.Create_1(f8==null?0:f8.$0);return new bY(f4, f9);}):f5===2?bV.GetOrAddHoleFor(fV, f4, () => { const f8=f6==null?null:Y(f6.$0);let f9=bX.Create_1(f8==null?false:f8.$0);return new bZ(f4, f9);}):f5===3?bV.GetOrAddHoleFor(fV, f4, () => { const f8=f6==null?null:Y(f6.$0);let f9=bX.Create_1(f8==null?-8640000000000000:f8.$0);return new b0(f4, f9);}):f5===4?bV.GetOrAddHoleFor(fV, f4, () => new b1(f4, bX.Create_1([]))):f5===5?bV.GetOrAddHoleFor(fV, f4, () => new b2(f4, bX.Create_1(Y(globalThis.document.querySelector("[ws-dom="+f4+"]"))))):f5===6?bV.GetOrAddHoleFor(fV, f4, () => { const f8=f6==null?null:Y(f6.$0);let f9=bX.Create_1(f8==null?[]:f8.$0);return new b3(f4, f9);}):g("Invalid value type");fY.set_Item(f4, f7);return Y(f7);} }, fX)), {$:0, $0:fY}];}
function s(fV){ return P((fW, fX) => { fV.then(fW, (fY) => fX(t(fY)));});}
function t(fV){ return fV instanceof Error?fV:new bo(fV);}
function u(fV, fW){ if(fV===fW)return true;else { const fX=typeof fV;if(fX=="object"){ if(fV===null||fV===void 0||fW===null||fW===void 0||!u(typeof fW, "object"))return false;else if("Equals"in fV)return fV.Equals(fW);else if("Equals"in fW)return false;else if(fV instanceof Array&&fW instanceof Array)return v(fV, fW);else if(fV instanceof Date&&fW instanceof Date)return w(fV, fW);else { const fY=[true];let fZ;for(var f1 in fV)if(((f2) => { fY[0]=!fV.hasOwnProperty(f2)||fW.hasOwnProperty(f2)&&u(fV[f2], fW[f2]);return!fY[0];})(f1))break;if(fY[0]){ let f0;for(var f2 in fW)if(((f3) => { fY[0]=!fW.hasOwnProperty(f3)||fV.hasOwnProperty(f3);return!fY[0];})(f2))break;} return fY[0];} } else return fX=="function"&&("$Func"in fV?fV.$Func===fW.$Func&&fV.$Target===fW.$Target:"$Invokes"in fV&&"$Invokes"in fW&&v(fV.$Invokes, fW.$Invokes));} }
function v(fV, fW){ let fX;let fY;if(o(fV)===o(fW)){ fX=true;fY=0;while(fX&&fY<o(fV)){!u(l(fV, fY), l(fW, fY))?fX=false:void 0;fY=fY+1;} return fX;} else return false;}
function w(fV, fW){ return fV.getTime()===fW.getTime();}
function x(fV){ const fW=typeof fV;return fW=="function"?0:fW=="boolean"?fV?1:0:fW=="number"?fV:fW=="string"?y(fV):fW=="object"?fV==null?0:fV instanceof Array?z(fV):A(fV):0;}
function y(fV){ let fW;if(fV===null)return 0;else { fW=5381;for(let fX=0, fY=fV.length-1;fX<=fY;fX++)fW=B(fW, fV[fX].charCodeAt());return fW;} }
function z(fV){ let fW=-34948909;for(let fX=0, fY=o(fV)-1;fX<=fY;fX++)fW=B(fW, x(l(fV, fX)));return fW;}
function A(fV){ if("GetHashCode"in fV)return fV.GetHashCode();else { const fW=[0];let fX;for(var fY in fV)if(((fZ) => { fW[0]=B(B(fW[0], y(fZ)), x(fV[fZ]));return false;})(fY))break;return fW[0];} }
function B(fV, fW){ return(fV<<5)+fV+fW;}
function C(fV, fW){ if(fV===fW)return 0;else { const fX=typeof fV;switch(fX=="function"?1:fX=="boolean"?2:fX=="number"?2:fX=="string"?2:fX=="object"?3:0){ case 0:return typeof fW=="undefined"?0:-1;case 1:return g("Cannot compare function values.");case 2:return fV<fW?-1:1;case 3:if(fV===null)return -1;else if(fW===null)return 1;else if("CompareTo"in fV)return fV.CompareTo(fW);else if("CompareTo0"in fV)return fV.CompareTo0(fW);else if(fV instanceof Array&&fW instanceof Array)return D(fV, fW);else if(fV instanceof Date&&fW instanceof Date)return E(fV, fW);else { const fY=[0];let fZ;for(var f1 in fV)if(((f2) =>!fV.hasOwnProperty(f2)?false:!fW.hasOwnProperty(f2)?(fY[0]=1,true):(fY[0]=C(fV[f2], fW[f2]),fY[0]!==0))(f1))break;if(fY[0]===0){ let f0;for(var f2 in fW)if(((f3) =>!fW.hasOwnProperty(f3)?false:!fV.hasOwnProperty(f3)&&(fY[0]=-1,true))(f2))break;} return fY[0];} break;} } }
function D(fV, fW){ let fX;let fY;if(o(fV)<o(fW))return -1;else if(o(fV)>o(fW))return 1;else { fX=0;fY=0;while(fX===0&&fY<o(fV)){ fX=C(l(fV, fY), l(fW, fY));fY=fY+1;} return fX;} }
function E(fV, fW){ return C(fV.getTime(), fW.getTime());}
function F(fV){ Z("index");return fV?u0030("index", Y("main"), fV):void 0;}
function G(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fV) => { const fW=Math.random()*16|0;const fX=fV=="x"?fW:fW&3|8;return fX.toString(16);});}
class H extends j { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fV, fW){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ek("");} }
class I extends H { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
function J(fV){ const fW={};const fX=ca(fV);try { while(fX.MoveNext()){ const fY=fX.Current;fW[fY[0]]=fY[1];} } finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} return fW;}
function K(fV){ return(fW) => { try {(fV())(fW);} catch(fX){ fW.k(bj(fX));} };}
function L(fV, fW){ return O((fX) => { fV(bi((fY) => { if(fY.$==0){ const fZ=fY.$0;T().Fork(() => { try {(fW(fZ))(fX);} catch(f0){ fX.k(bj(f0));} });} else T().Fork(() => { fX.k(fY);});}, fX.ct));});}
function M(fV){ return(fW) => { fW.k(bk(fV));};}
function N(fV, fW){ const fX=(Q())[0];const fY=fW==null?fX:fW.$0;if(!fY.c)fV(bi((fZ) => { if(fZ.$==1)R(fZ.$0);}, fY));}
function O(fV){ return(fW) => { if(fW.ct.c)S(fW);else fV(fW);};}
function P(fV){ return(fW) => { const fX=[false];const fY=(fZ) => { if(fX[0])g("A continuation provided by Async.FromContinuations was invoked multiple times");else { fX[0]=true;T().Fork(fZ);} };fV((fZ) => { fY(() => { fW.k(bk(fZ));});}, (fZ) => { fY(() => { fW.k(bj(fZ));});}, (fZ) => { fY(() => { fW.k(bl(fZ));});});};}
function Q(){ return b_.defCTS;}
function R(fV){ console.log("WebSharper: Uncaught asynchronous exception", fV);}
function S(fV){ fV.k(bl(new cZ("New", fV.ct)));}
function T(){ return b_.scheduler;}
function U(){ return b_.Zero;}
function V(fV, fW){ const fX=(Q())[0];const fY=fW==null?fX:fW.$0;T().Fork(() => { if(!fY.c)fV(bi((fZ) => { if(fZ.$==1)R(fZ.$0);}, fY));});}
function W(fV){ let fW=[];let fX;for(var fY in fV)fW.push(fV[fY]);return fW;}
class X extends j { }
function Y(fV){ return{$:1, $0:fV};}
function Z(fV){!u0031()?(u0032(true),u0033(globalThis.document.body, "")):void 0;u0034().set_Item(fV, u0035(""));}
function u0030(fV, fW, fX){ let fY;const fZ=(fY=null,[u0035(fV).TryGetValue(fW==null?"":fW.$0, {get:() => fY, set:(f0) => { fY=f0;}}), fY]);return fZ[0]?u0036(fZ[1].cloneNode(true), fX):(console.warn("Local template doesn't exist", fW),bg.Empty);}
function u0031(){ return cD.LocalTemplatesLoaded;}
function u0032(fV){ cD.LocalTemplatesLoaded=fV;}
function u0033(fV, fW){ const fX=u0035(fW);const fY=new bh("New_5");const fZ=fV.querySelectorAll("[ws-template]");for(let f$=0, ga=fZ.length-1;f$<=ga;f$++){ const f0=fZ[f$];const f1=f0.getAttribute("ws-template").toLowerCase();f0.removeAttribute("ws-template");fY.set_Item(f1, u0037(f0));} const f2=fV.querySelectorAll("[ws-children-template]");for(let gb=0, gc=f2.length-1;gb<=gc;gb++){ const f3=f2[gb];const f4=f3.getAttribute("ws-children-template").toLowerCase();f3.removeAttribute("ws-children-template");fY.set_Item(f4, u0038(f3));} const f5=fV.querySelectorAll("template[id]");for(let gd=0, ge=f5.length-1;gd<=ge;gd++){ const f6=f5[gd];fY.set_Item(f6.getAttribute("id").toLowerCase(), u0039(f6));} const f7=fV.querySelectorAll("template[name]");for(let gf=0, gg=f7.length-1;gf<=gg;gf++){ const f8=f7[gf];fY.set_Item(f8.getAttribute("name").toLowerCase(), u0039(f8));} const f9=new bq("New_3");function f_(gh){ if(!fX.ContainsKey(gh)){ let gi;const gj=(gi=null,[fY.TryGetValue(gh, {get:() => gi, set:(gk) => { gi=gk;}}), gi]);if(gj[0]){ f9.SAdd(gh);fY.RemoveKey(gh);$(fW, Y(gh), gj[1], Y(f_));} else console.warn(f9.Contains(gh)?"Encountered loop when instantiating "+gh:"Local template does not exist: "+gh);} } while(fY.count>0)f_(bs(fY.Keys));}
function u0034(){ return cD.LoadedTemplates;}
function u0035(fV){ let fW;const fX=(fW=null,[u0034().TryGetValue(fV, {get:() => fW, set:(fZ) => { fW=fZ;}}), fW]);if(fX[0])return fX[1];else { const fY=new bh("New_5");u0034().set_Item(fV, fY);return fY;} }
function u0036(fV, fW){ let fX;const fY=ba(fV, br(fW, bb().Values));const fZ=fY[1];const f0=fY[0];const f1=f0.Els;return!u(f1, null)&&f1.length===1&&(l(f1, 0)instanceof Node&&(u(l(f1, 0).nodeType, Node.ELEMENT_NODE)&&(fX=l(f1, 0),true)))?c7.TreeNode(f0, fZ):bg.Mk(b4(f0), fZ);}
function u0037(fV){ fV.removeAttribute("ws-template");const fW=fV.getAttribute("ws-replace");if(fW==null){ } else { fV.removeAttribute("ws-replace");const fX=fV.parentNode;if(u(fX, null)){ } else { const fY=globalThis.document.createElement(fV.tagName);fY.setAttribute("ws-replace", fW);fX.replaceChild(fY, fV);} } const fZ=globalThis.document.createElement("div");fZ.appendChild(fV);return fZ;}
function u0038(fV){ const fW=globalThis.document.createElement("div");while(fV.hasChildNodes())fW.appendChild(fV.firstChild);return fW;}
function u0039(fV){ const fW=globalThis.document.createElement("div");const fX=fV.content;for(let fY=0, fZ=fX.childNodes.length-1;fY<=fZ;fY++)fW.appendChild(fX.childNodes[fY].cloneNode(true));return fW;}
function $(fV, fW, fX, fY){ const fZ=new bq("New_3");function f0(f7, f8){ while(true)switch(f7){ case 0:if(f8!==null){ const f9=f8.nextSibling;if(u(f8.nodeType, Node.TEXT_NODE))de(f8);else if(u(f8.nodeType, Node.ELEMENT_NODE))f2(f8);f8=f9;} else return null;break;case 1:const f_=dm(f8.nodeName, Y(3), null).toLowerCase();const f$=f_.indexOf(".");const ga=f$===-1?[fV, f_]:[dm(f_, null, Y(f$-1)), dm(f_, Y(f$+1), null)];const gb=ga[1];const gc=ga[0];if(gc!=""&&!u0034().ContainsKey(gc))return df(gb);else { if(gc==""&&fY!=null)fY.$0(gb);const gd=u0034().Item(gc);if(!gd.ContainsKey(gb))return df(gb);else { const ge=gd.Item(gb);const gf=ge.cloneNode(true);const gg=new bq("New_3");const gh=new bh("New_5");const gi=f8.attributes;for(let gs=0, gt=gi.length-1;gs<=gt;gs++){ const gj=gi.item(gs).name.toLowerCase();const gk=gi.item(gs).nodeValue;let gl=gk==""?gj:gk.toLowerCase();gh.set_Item(gj, gl);if(!gg.SAdd(gj))console.warn("Hole mapped twice", gj);} for(let gu=0, gv=f8.childNodes.length-1;gu<=gv;gu++){ const gm=f8.childNodes[gu];if(u(gm.nodeType, Node.ELEMENT_NODE))if(!gg.SAdd(gm.nodeName.toLowerCase()))console.warn("Hole filled twice", gb);} const gn=f8.childNodes.length===1&&u(f8.firstChild.nodeType, Node.TEXT_NODE);if(gn){ const go=dg(gf, f8.firstChild.textContent, gb);const gp=((gw) =>(gx) => gw.SAdd(gx))(gg);let gq=((gw) =>(gx) => { if(gx!=null)gw(gx.$0);})((gw) => { gp(gw);});gq(go);} dh(gf, gg);if(!gn){ for(let gw=0, gx=f8.childNodes.length-1;gw<=gx;gw++){ const gr=f8.childNodes[gw];if(u(gr.nodeType, Node.ELEMENT_NODE))if(gr.hasAttributes())di(gf, gr);else f1(gf, gr);} } dj(gf, gh);dk(gf, f8.parentNode, f8);f8.parentNode.removeChild(f8);return;} } break;} } function f1(f7, f8){ const f9=f8.nodeName.toLowerCase();const f_=(gc, gd) => { if(f9=="title"&&f8.hasChildNodes()){ const ge=dn(f8.textContent);f8.removeChild(f8.firstChild);while(ge.hasChildNodes())f8.appendChild(ge.firstChild);} f2(f8);return dk(f8, gc, gd);};bc(f7, "[ws-attr-holes]", (gc) => { const gd=eo(gc.getAttribute("ws-attr-holes"), [" "], 1);for(let gh=0, gi=gd.length-1;gh<=gi;gh++){ const ge=l(gd, gh);let gf=new RegExp("\\${"+f9+"}", "ig");let gg=gc.getAttribute(ge).replace(gf, f8.textContent);gc.setAttribute(ge, gg);} });const f$=f7.querySelector("[ws-hole="+f9+"]");if(u(f$, null)){ const ga=f7.querySelector("[ws-replace="+f9+"]");if(u(ga, null)){ const gb=f7.querySelector("slot[name="+f9+"]");return f7.tagName.toLowerCase()=="template"?(f_(gb.parentNode, gb),void gb.parentNode.removeChild(gb)):null;} else { f_(ga.parentNode, ga);ga.parentNode.removeChild(ga);return;} } else { while(f$.hasChildNodes())f$.removeChild(f$.lastChild);f$.removeAttribute("ws-hole");return f_(f$, null);} } function f2(f7){ if(!f7.hasAttribute("ws-preserve"))if(ep(f7.nodeName.toLowerCase(), "ws-"))f4(f7);else { dl(f7);f3(f7.firstChild);} } function f3(f7){ return f0(0, f7);} function f4(f7){ return f0(1, f7);} function f5(f7){ while(true){ const f8=f7.querySelector("[ws-template]");if(u(f8, null)){ const f9=f7.querySelector("[ws-children-template]");if(u(f9, null)){ const f_=f7.querySelectorAll("template[id]");for(let ge=1, gf=f_.length-1;ge<=gf;ge++){ const f$=f_[ge];if(fZ.Contains(f$)){ } else { $(fV, Y(f$.getAttribute("id")), f$, null);fZ.SAdd(f$);} } const ga=f7.querySelectorAll("template[name]");for(let gg=1, gh=ga.length-1;gg<=gh;gg++){ const gb=ga[gg];if(fZ.Contains(gb)){ } else { $(fV, Y(gb.getAttribute("name")), gb, null);fZ.SAdd(gb);} } return null;} else { const gc=f9.getAttribute("ws-children-template");f9.removeAttribute("ws-children-template");$(fV, Y(gc), f9, null);f7=f7;} } else { const gd=f8.getAttribute("ws-template");(bd(fV, Y(gd), f8))(null);f7=f7;} } } const f6=(fW==null?"":fW.$0).toLowerCase();u0035(fV).set_Item(f6, fX);if(fX.hasChildNodes()){ f5(fX);f3(fX.firstChild);} }
function ba(fV, fW){ let fX;const fY=[];const fZ=[];const f0=[];const f1=[];const f2=new bh("New_5");const f3=ca(fW);try { while(f3.MoveNext()){ const f4=f3.Current;f2.set_Item(f4.Name, f4);} } finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} let f5=do_1(fV);const f6=(gd, ge) => { const gf=dN(gd, ge);fZ.push(dO(gf));f0.push([gd, gf]);const gg=fP(gf.OnAfterRender);if(gg==null)return null;else { const gh=gg.$0;f1.push(() => { gh(gd);});return;} };const f7=(gd) => { let ge;const gf=(ge=null,[f2.TryGetValue(gd, {get:() => ge, set:(gi) => { ge=gi;}}), ge]);if(gf[0]){ const gg=gf[1];if(gg instanceof d4)return Y(gg.Value);else if(gg instanceof d5)return Y(bg.TextNode(gg.Value));else { const gh=gg.ForTextView();return gh==null?null:Y(bg.TextView(gh.$0));} } else return null;};bc(fV, "[ws-hole]", (gd) => { const ge=gd.getAttribute("ws-hole");gd.removeAttribute("ws-hole");while(gd.hasChildNodes())gd.removeChild(gd.lastChild);const gf=f7(ge);if(gf!=null&&gf.$==1){ const gg=gf.$0;cE(gd, gg.docNode);fY.push(cY.New(dP(gd), gg.docNode, null, gd, c1(), null));fZ.push(gg.updates);} });bc(fV, "[ws-replace]", (gd) => { const ge=f7(gd.getAttribute("ws-replace"));if(ge!=null&&ge.$==1){ const gf=ge.$0;const gg=gd.parentNode;const gh=globalThis.document.createTextNode("");gg.replaceChild(gh, gd);const gi=cJ(gh, gf.docNode);f5=do_1(fV);const gj=bH((gk) => gd===gk, f5);if(gj==null){ } else m(f5, gj.$0, gf.docNode);fY.push(cY.New(dP(gg), gf.docNode, Y([gi, gh]), gg, c1(), null));fZ.push(gf.updates);} });let f8=false;bc(fV, "slot", (gd) => { const ge=gd.getAttribute("name");const gf=ge==""||ge==null?"default":ge.toLowerCase();if(f8&&gf=="default"||!u(fV.parentElement, null)){ } else { while(gd.hasChildNodes())gd.removeChild(gd.lastChild);if(gf=="default")f8=true;const gg=f7(gf);if(gg!=null&&gg.$==1){ const gh=gg.$0;cE(gd, gh.docNode);fY.push(cY.New(dP(gd), gh.docNode, null, gd, c1(), null));fZ.push(gh.updates);} } });bc(fV, "[ws-attr]", (gd) => { let ge;const gf=gd.getAttribute("ws-attr");gd.removeAttribute("ws-attr");const gg=(ge=null,[f2.TryGetValue(gf, {get:() => ge, set:(gi) => { ge=gi;}}), ge]);if(gg[0]){ const gh=gg[1];if(gh instanceof d6)f6(gd, gh.Value);else console.warn("Attribute hole filled with non-attribute data", gf);} });bc(fV, "[ws-on]", (gd) => { f6(gd, eh.Concat(bG((ge) => { let gf;const gg=eo(ge, [":"], 1);const gh=(gf=null,[f2.TryGetValue(l(gg, 1), {get:() => gf, set:(gj) => { gf=gj;}}), gf]);if(gh[0]){ const gi=gh[1];return gi instanceof d7?Y(d8(l(gg, 0), gi.Value)):gi instanceof I?Y(eh.Handler(l(gg, 0), gi.Value)):(console.warn("Event hole on"+l(gg, 0)+" filled with non-event data", l(gg, 1)),null);} else return null;}, eo(gd.getAttribute("ws-on"), [" "], 1))));gd.removeAttribute("ws-on");});bc(fV, "[ws-onafterrender]", (gd) => { let ge;const gf=gd.getAttribute("ws-onafterrender");const gg=(ge=null,[f2.TryGetValue(gf, {get:() => ge, set:(gi) => { ge=gi;}}), ge]);if(gg[0]){ const gh=gg[1];if(gh instanceof ei){ gd.removeAttribute("ws-onafterrender");f6(gd, d9(gh.Value));} else if(gh instanceof ej){ gd.removeAttribute("ws-onafterrender");f6(gd, d9(gh.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gf);} });bc(fV, "[ws-var]", (gd) => { let ge;const gf=gd.getAttribute("ws-var");gd.removeAttribute("ws-var");const gg=(ge=null,[f2.TryGetValue(gf, {get:() => ge, set:(gh) => { ge=gh;}}), ge]);if(gg[0])gg[1].AddAttribute((gh) =>(gi) => f6(gh, gi), gd);});const f9=() => { be("[ws-dom]", (gd) => { let ge;let gf;let gg;const gh=(ge=null,[f2.TryGetValue(gd.getAttribute("ws-dom").toLowerCase(), {get:() => ge, set:(gl) => { ge=gl;}}), ge]);if(gh[0]){ const gi=gh[1];if(gi instanceof b2){ const gj=gi.Value;gd.removeAttribute("ws-dom");gf=gd;const gk=new MutationObserver((gl, gm) => { bL((gn) => { gn.removedNodes.forEach(fQ((go) => go[0]===gf&&gn.addedNodes.length!==1?(gj.SetFinal(null),gm.disconnect()):null), null);}, gl);});if(gd.parentElement!==null)gk.observe(gd.parentElement, (gg={},gg.childList=true,gg));gj.Set(Y(gd));c9((gl) => { if(gl!=null&&gl.$==1){ const gm=gl.$0;if(gf===gm){ } else { gf.replaceWith(gm);gf=gm;} } else { gf.remove();gk.disconnect();} }, gj.View);} } });};bc(fV, "[ws-attr-holes]", (gd) => { const ge=new RegExp(bf(), "g");const gf=eo(gd.getAttribute("ws-attr-holes"), [" "], 1);gd.removeAttribute("ws-attr-holes");for(let gg=0, gh=gf.length-1;gg<=gh;gg++)((() => { let gi;const gj=l(gf, gg);const gk=gd.getAttribute(gj);let gl=null;let gm=0;const gn=[];while(gl=ge.exec(gk),gl!==null){ const go=dm(gk, Y(gm), Y(ge.lastIndex-l(gl, 0).length-1));gm=ge.lastIndex;gn.push([go, l(gl, 1)]);} const gp=dm(gk, Y(gm), null);ge.lastIndex=0;const gq=bM((gv, gw) =>(((gx) => { const gy=gx[0];const gz=gx[1];return(gA) => { let gB;const gC=gA[0];const gD=gA[1];const gE=(gB=null,[f2.TryGetValue(gz, {get:() => gB, set:(gG) => { gB=gG;}}), gB]);const gF=gE[0]?gE[1].AsChoiceView:ek("");return gF.$==1?[gy, em.Cons(gC==""?gF.$0:c_((gG) => gG+gC, gF.$0), gD)]:[gy+gF.$0+gC, gD];};})(gv))(gw), gn, [gp, em.Empty]);if(gq[1].$==1){ if(gq[1].$1.$==1){ if(gq[1].$1.$1.$==1){ if(gq[1].$1.$1.$1.$==0){ const gr=gq[0];gi=d_(gj, c$((gv, gw, gx) => gr+gv+gw+gx, gq[1].$0, gq[1].$1.$0, gq[1].$1.$1.$0));} else { const gs=gq[0];gi=d_(gj, c_((gv) => gs+en("", gv), da(gq[1])));} } else { const gt=gq[0];gi=d_(gj, db((gv, gw) => gt+gv+gw, gq[1].$0, gq[1].$1.$0));} } else if(gq[0]=="")gi=d_(gj, gq[1].$0);else { const gu=gq[0];gi=d_(gj, c_((gv) => gu+gv, gq[1].$0));} } else gi=eh.Create(gj, gq[0]);return f6(gd, gi);})());});let f_=f5;const f$=f1.length==0?Y(() => { f9();}):Y((gd) => { f9();bL((ge) => { ge(gd);}, f1);});const ga=!u(f5, null)&&f5.length===1&&(l(f5, 0)instanceof Node&&(l(f5, 0)instanceof Element&&(fX=l(f5, 0),true)))?Y(fX):null;let gb={Els:f_, Dirty:true, Holes:fY, Attrs:f0, Render:f$?f$.$0:void 0, El:ga?ga.$0:void 0};let gc=fR(gb, ["Render", "El"]);return[gc, ev(c8(), dc, fZ)];}
function bb(){ return cD.GlobalHoles;}
function bc(fV, fW, fX){ du(fV, fW, (fY) => { if(fY.closest("[ws-preserve]")==null)fX(fY);});}
function bd(fV, fW, fX){ const fY=u0037(fX);return(fZ) => { $(fV, fW, fY, fZ);};}
function be(fV, fW){ dv(fV, (fX) => { if(fX.closest("[ws-preserve]")==null)fW(fX);});}
function bf(){ return cD.TextHoleRE;}
class bg extends j { docNode;updates;static RunById(fV, fW){ const fX=globalThis.document.getElementById(fV);if(u(fX, null))g("invalid id: "+fV);else bg.Run(fX, fW);} static Run(fV, fW){ cE(fV, fW.docNode);bg.RunInPlace(false, fV, fW);} static get Empty(){ return bg.Mk(null, c8());} static RunInPlace(fV, fW, fX){ const fY=cG(fW, fX.docNode);c9(dC()||dJ()?dK(cH(fV, fY, fX.docNode)):() => { cI(fV, fY, fX.docNode);}, fX.updates);} static Mk(fV, fW){ return new bg(fV, fW);} static TextNode(fV){ return bg.Mk(b5(globalThis.document.createTextNode(fV)), c8());} static TextView(fV){ const fW=cR();return bg.Mk(b6(fW), c_((fX) => { cS(fW, fX);}, fV));} constructor(fV, fW){ super();this.docNode=fV;this.updates=fW;} }
class bh extends j { equals;hash;count;data;set_Item(fV, fW){ this.set(fV, fW);} set(fV, fW){ const fX=this.hash(fV);const fY=this.data[fX];if(fY==null){ this.count=this.count+1;this.data[fX]=new Array({K:fV, V:fW});} else { const fZ=bH((f0) => this.equals.apply(null, [(h(f0))[0], fV]), fY);if(fZ==null){ this.count=this.count+1;fY.push({K:fV, V:fW});} else fY[fZ.$0]={K:fV, V:fW};} } TryGetValue(fV, fW){ const fX=this.data[this.hash(fV)];if(fX==null)return false;else { const fY=bI((fZ) => { const f0=h(fZ);return this.equals.apply(null, [f0[0], fV])?Y(f0[1]):null;}, fX);return fY!=null&&fY.$==1&&(fW.set(fY.$0),true);} } ContainsKey(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:bJ((fX) => this.equals.apply(null, [(h(fX))[0], fV]), fW);} RemoveKey(fV){ return this.remove(fV);} get Keys(){ return new dB(this);} GetEnumerator(){ return cd(bK(W(this.data)));} get Values(){ return new ez(this);} remove(fV){ const fW=this.hash(fV);const fX=this.data[fW];if(fX==null)return false;else { const fY=bO((fZ) =>!this.equals.apply(null, [(h(fZ))[0], fV]), fX);return o(fY)<fX.length&&(this.count=this.count-1,this.data[fW]=fY,true);} } Item(fV){ return this.get(fV);} get(fV){ const fW=this.data[this.hash(fV)];return fW==null?b$():bQ((fX) => { const fY=h(fX);return this.equals.apply(null, [fY[0], fV])?Y(fY[1]):null;}, fW);} static New_5(){ return new this("New_5");} static New_6(fV, fW, fX){ return new this("New_6", fV, fW, fX);} constructor(fV, fW, fX, fY){ if(fV=="New_5"){ fV="New_6";fW=[];fX=u;fY=x;} if(fV=="New_6"){ const fZ=fW;const f0=fX;const f1=fY;super();this.equals=f0;this.hash=f1;this.count=0;this.data=[];const f2=ca(fZ);try { while(f2.MoveNext()){ const f3=f2.Current;this.set(f3.K, f3.V);} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} } } }
function bi(fV, fW){ return{k:fV, ct:fW};}
function bj(fV){ return{$:1, $0:fV};}
function bk(fV){ return{$:0, $0:fV};}
function bl(fV){ return{$:2, $0:fV};}
let bm=fS((fV) => class fW { static { bm=fV(this);} static savedCredentialId;static { this.savedCredentialId=bX.Create_1(null);} });
class bn extends j { }
class bo extends Error { reason;constructor(fV){ super("Promise rejected");this.reason=fV;} }
function bp(fV, fW){ return{c:fV, r:fW};}
class bq extends j { equals;hash;data;count;SAdd(fV){ return this.add(fV);} Contains(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:this.arrContains(fV, fW);} add(fV){ const fW=this.hash(fV);const fX=this.data[fW];return fX==null?(this.data[fW]=[fV],this.count=this.count+1,true):this.arrContains(fV, fX)?false:(fX.push(fV),this.count=this.count+1,true);} arrContains(fV, fW){ let fX=true;let fY=0;const fZ=fW.length;while(fX&&fY<fZ)if(this.equals.apply(null, [fW[fY], fV]))fX=false;else fY=fY+1;return!fX;} GetEnumerator(){ return ca(eR(this.data));} ExceptWith(fV){ const fW=ca(fV);try { while(fW.MoveNext())this.Remove(fW.Current);} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } get Count(){ return this.count;} IntersectWith(fV){ const fW=new bq("New_4", fV, this.equals, this.hash);const fX=eR(this.data);for(let fZ=0, f0=fX.length-1;fZ<=f0;fZ++){ const fY=fX[fZ];if(!fW.Contains(fY))this.Remove(fY);} } Remove(fV){ const fW=this.data[this.hash(fV)];return fW==null?false:this.arrRemove(fV, fW)&&(this.count=this.count-1,true);} CopyTo(fV, fW){ const fX=eR(this.data);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)m(fV, fY+fW, fX[fY]);} arrRemove(fV, fW){ let fX=true;let fY=0;const fZ=fW.length;while(fX&&fY<fZ)if(this.equals.apply(null, [fW[fY], fV])){ fW.splice(fY, 1);fX=false;} else fY=fY+1;return!fX;} static New_3(){ return new this("New_3");} static New_4(fV, fW, fX){ return new this("New_4", fV, fW, fX);} static New_2(fV){ return new this("New_2", fV);} constructor(fV, fW, fX, fY){ if(fV=="New_3"){ fV="New_4";fW=[];fX=u;fY=x;} let fZ;if(fV=="New_2"){ fZ=fW;fV="New_4";fW=fZ;fX=u;fY=x;} if(fV=="New_4"){ const f0=fW;const f1=fX;const f2=fY;super();this.equals=f1;this.hash=f2;this.data=[];this.count=0;const f3=ca(f0);try { while(f3.MoveNext())this.add(f3.Current);} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } } }
function br(fV, fW){ return{GetEnumerator:() => { const fX=ca(fV);const fY=[true];return new ce(fX, null, (fZ) => { if(fZ.s.MoveNext()){ fZ.c=fZ.s.Current;return true;} else { const f0=fZ.s;if(!u(f0, null))f0.Dispose();fZ.s=null;return fY[0]&&(fY[0]=false,fZ.s=ca(fW),fZ.s.MoveNext()?(fZ.c=fZ.s.Current,true):(fZ.s.Dispose(),fZ.s=null,false));} }, (fZ) => { const f0=fZ.s;if(!u(f0, null))f0.Dispose();});}};}
function bs(fV){ const fW=ca(fV);try { return fW.MoveNext()?fW.Current:dy();} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bt(fV, fW, fX){ let fY=fW;const fZ=ca(fX);try { while(fZ.MoveNext())fY=fV(fY, fZ.Current);return fY;} finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} }
function bu(fV, fW){ const fX=ca(fW);try { while(fX.MoveNext())fV(fX.Current);} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} }
function bv(fV, fW){ return{GetEnumerator:() => { const fX=ca(fW);return new ce(null, null, (fY) => fX.MoveNext()&&(fY.c=fV(fX.Current),true), () => { fX.Dispose();});}};}
function bw(fV){ return{GetEnumerator:() => ca(fV())};}
function bx(fV, fW){ return bz(bv(fV, fW));}
function by(fV){ const fW=ca(fV);try { if(!fW.MoveNext())bB();let fX=fW.Current;while(fW.MoveNext()){ const fY=fW.Current;if(C(fY, fX)===1)fX=fY;} return fX;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bz(fV){ return{GetEnumerator:() => { const fW=ca(fV);function fX(fY){ while(true){ const fZ=fY.s;if(u(fZ, null)){ if(fW.MoveNext()){ fY.s=ca(fW.Current);fY=fY;} else { fW.Dispose();return false;} } else if(fZ.MoveNext()){ fY.c=fZ.Current;return true;} else { fY.Dispose();fY.s=null;fY=fY;} } } return new ce(null, null, fX, (fY) => { const fZ=fY.s;if(!u(fZ, null))fZ.Dispose();if(!u(fW, null))fW.Dispose();});}};}
function bA(fV, fW){ return bC(fV, bD(fW));}
function bB(){ return g("The input sequence was empty.");}
function bC(fV, fW){ fV<0?dA():void 0;return{GetEnumerator:() => { const fX=[ca(fW)];return new ce(0, null, (fY) => { fY.s=fY.s+1;if(fY.s>fV)return false;else { const fZ=fX[0];return u(fZ, null)?dy():fZ.MoveNext()?(fY.c=fZ.Current,fY.s===fV?(fZ.Dispose(),fX[0]=null):void 0,true):(fZ.Dispose(),fX[0]=null,dy());} }, () => { const fY=fX[0];if(!u(fY, null))fY.Dispose();});}};}
function bD(fV){ return{GetEnumerator:() => new ce(0, null, (fW) => { fW.c=fV(fW.s);fW.s=fW.s+1;return true;}, void 0)};}
function bE(fV, fW){ return!bF((fX) =>!fV(fX), fW);}
function bF(fV, fW){ const fX=ca(fW);try { let fY=false;while(!fY&&fX.MoveNext())fY=fV(fX.Current);return fY;} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} }
function bG(fV, fW){ const fX=[];for(let fZ=0, f0=fW.length-1;fZ<=f0;fZ++){ const fY=fV(fW[fZ]);if(fY==null){ } else fX.push(fY.$0);} return fX;}
function bH(fV, fW){ let fX=null;let fY=0;while(fY<fW.length&&fX==null){ fV(fW[fY])?fX=Y(fY):void 0;fY=fY+1;} return fX;}
function bI(fV, fW){ let fX=null;let fY=0;while(fY<fW.length&&fX==null){ const fZ=fV(fW[fY]);if(fZ!=null&&fZ.$==1)fX=fZ;fY=fY+1;} return fX;}
function bJ(fV, fW){ let fX=false;let fY=0;while(!fX&&fY<o(fW))if(fV(fW[fY]))fX=true;else fY=fY+1;return fX;}
function bK(fV){ return Array.prototype.concat.apply([], bP(fV));}
function bL(fV, fW){ for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function bM(fV, fW, fX){ let fY=fX;const fZ=fW.length;for(let f0=1, f1=fZ;f0<=f1;f0++)fY=fV(fW[fZ-f0], fY);return fY;}
function bN(fV, fW){ const fX=new Array(fW.length);for(let fY=0, fZ=fW.length-1;fY<=fZ;fY++)fX[fY]=fV(fW[fY]);return fX;}
function bO(fV, fW){ const fX=[];for(let fY=0, fZ=fW.length-1;fY<=fZ;fY++)if(fV(fW[fY]))fX.push(fW[fY]);return fX;}
function bP(fV){ if(fV instanceof Array)return fV.slice();else if(fV instanceof em)return bR(fV);else { const fW=[];const fX=ca(fV);try { while(fX.MoveNext())fW.push(fX.Current);return fW;} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} } }
function bQ(fV, fW){ const fX=bI(fV, fW);return fX==null?g("KeyNotFoundException"):fX.$0;}
function bR(fV){ const fW=[];let fX=fV;while(!(fX.$==0)){ fW.push(e7(fX));fX=e8(fX);} return fW;}
function bS(fV, fW){ let fX=true;let fY=0;while(fX&&fY<o(fW))if(fV(fW[fY]))fY=fY+1;else fX=false;return fX;}
function bT(fV, fW){ const fX=new Array(fV);for(let fY=0, fZ=fV-1;fY<=fZ;fY++)fX[fY]=fW;return fX;}
function bU(fV, fW){ if(fV<0)g("Negative size given.");else null;const fX=new Array(fV);for(let fY=0, fZ=fV-1;fY<=fZ;fY++)fX[fY]=fW(fY);return fX;}
let bV=fS((fV) => class fW extends j { static { bV=fV(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fX, fY, fZ){ let f0;const f1=bV.GetHolesFor(fX);const f2=(f0=null,[f1.TryGetValue(fY, {get:() => f0, set:(f4) => { f0=f4;}}), f0]);if(f2[0])return f2[1];else { const f3=fZ();f1.set_Item(fY, f3);return f3;} } static GetHolesFor(fX){ let fY;const fZ=(fY=null,[bV.initialized.TryGetValue(fX, {get:() => fY, set:(f1) => { fY=f1;}}), fY]);if(fZ[0])return fZ[1];else { const f0=new bh("New_5");bV.initialized.set_Item(fX, f0);return f0;} } static { bV.initialized=new bh("New_5");bV.instances=new bh("New_5");} });
class bW extends H { name;fillWith;get Name(){ return this.name;} ForTextView(){ return Y(this.fillWith.View);} AddAttribute(fV, fW){(fV(fW))(d$(this.fillWith));} get AsChoiceView(){ return el(c_(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
let bX=fS((fV) => class fW extends j { static { bX=fV(this);} static Create_1(fX){ return new cf(false, {s:c4(fX, [])}, fX);} static { } });
class bY extends H { name;fillWith;get Name(){ return this.name;} ForTextView(){ return Y(c_(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ea(this.fillWith));} get AsChoiceView(){ return el(c_(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class bZ extends H { name;fillWith;get Name(){ return this.name;} ForTextView(){ return Y(c_(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(eb(this.fillWith));} get AsChoiceView(){ return el(c_(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class b0 extends H { name;fillWith;get Name(){ return this.name;} ForTextView(){ return Y(c_((fV) =>(new Date(fV)).toLocaleString(), this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ec(this.fillWith));} get AsChoiceView(){ return el(c_((fV) =>(new Date(fV)).toLocaleString(), this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class b1 extends H { name;fillWith;get Name(){ return this.name;} ForTextView(){ return Y(c_(String, this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ed(this.fillWith));} get AsChoiceView(){ return el(c_(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class b2 extends H { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
class b3 extends H { name;fillWith;get Name(){ return this.name;} ForTextView(){ return Y(c_((fV) => en(",", fV), this.fillWith.View));} AddAttribute(fV, fW){(fV(fW))(ee(this.fillWith));} get AsChoiceView(){ return el(c_(String, this.fillWith.View));} constructor(fV, fW){ super();this.name=fV;this.fillWith=fW;} }
function b4(fV){ return{$:6, $0:fV};}
function b5(fV){ return{$:5, $0:fV};}
function b6(fV){ return{$:4, $0:fV};}
class b7 { }
function b8(fV, fW){ return fF(fV, -2147483648, 2147483647, fW);}
class b9 extends j { idle;robin;Fork(fV){ this.robin.push(fV);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fV=Date.now();let fW=true;while(fW)if(this.robin.length===0){ this.idle=true;fW=false;} else {(this.robin.shift())();Date.now()-fV>40?(setTimeout(() => { this.tick();}, 0),fW=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
let b_=fS((fV) => class fW { static { b_=fV(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bp(false, []);this.scheduler=new b9();this.defCTS=[new c0()];this.Zero=M();this.GetCT=(fX) => { fX.k(bk(fX.ct));};} });
function b$(){ throw new e0("New");}
function ca(fV){ return fV instanceof Array?cb(fV):u(typeof fV, "string")?cc(fV):fV.GetEnumerator();}
function cb(fV){ return new ce(0, null, (fW) => { const fX=fW.s;return fX<o(fV)&&(fW.c=l(fV, fX),fW.s=fX+1,true);}, void 0);}
function cc(fV){ return new ce(0, null, (fW) => { const fX=fW.s;return fX<fV.length&&(fW.c=fV[fX],fW.s=fX+1,true);}, void 0);}
function cd(fV){ return fV instanceof Array?cb(fV):u(typeof fV, "string")?cc(fV):"GetEnumerator0"in fV?fV.GetEnumerator0():fV.GetEnumerator();}
class ce extends j { s;c;n;d;e;MoveNext(){ const fV=this.n(this);this.e=fV?1:2;return fV;} get Current(){ return this.e===1?this.c:this.e===0?g("Enumeration has not started. Call MoveNext."):g("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fV, fW, fX, fY){ super();this.s=fV;this.c=fW;this.n=fX;this.d=fY;this.e=0;} }
class cf extends X { isConst;current;snap;view;id;Set(fV){ if(this.isConst)(((fW) => fW("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fW) => { console.log(fW);}));else { dM(this.snap);this.current=fV;this.snap={s:c4(fV, [])};} } Get(){ return this.current;} SetFinal(fV){ if(this.isConst)(((fW) => fW("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fW) => { console.log(fW);}));else { dM(this.snap);this.isConst=true;this.current=fV;this.snap={s:c5(fV)};} } get View(){ return this.view;} UpdateMaybe(fV){ const fW=fV(this.Get());if(fW!=null&&fW.$==1)this.Set(fW.$0);} constructor(fV, fW, fX){ super();this.isConst=fV;this.current=fX;this.snap=fW;this.view=() => this.snap;this.id=c1();} }
function cg(fV, fW, fX){ const fY=fV.s;if(fY==null)fX();else fY!=null&&fY.$==2?(fY.$1.push(fX),fW(fY.$0)):fY!=null&&fY.$==3?(fY.$0.push(fW),fY.$1.push(fX)):fW(fY.$0);}
function ch(fV, fW){ const fX=fW.s;if(fX!=null&&fX.$==0)return{s:c5(fV(fX.$0))};else { const fY={s:c6([], [])};co(fW, (fZ) => { cp(fY, fW, fV(fZ));}, fY);return fY;} }
function ci(fV, fW, fX, fY){ const fZ=fW.s;const f0=fX.s;const f1=fY.s;if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?f1!=null&&f1.$==0?{s:c5(fV(fZ.$0, f0.$0, f1.$0))}:cq(fV, fZ.$0, f0.$0, fY):f1!=null&&f1.$==0?cr(fV, fZ.$0, f1.$0, fX):cs(fV, fZ.$0, fX, fY);else if(f0!=null&&f0.$==0)return f1!=null&&f1.$==0?ct(fV, f0.$0, f1.$0, fW):cu(fV, f0.$0, fW, fY);else if(f1!=null&&f1.$==0)return cv(fV, f1.$0, fW, fX);else { const f2={s:c6([], [])};const f3=() => { const f4=f2.s;if(!(f4!=null&&f4.$==0||f4!=null&&f4.$==2)){ const f5=cw(fW);const f6=cw(fX);const f7=cw(fY);if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f7!=null&&f7.$==1)if(f5.$0[1]&&f6.$0[1]&&f7.$0[1])cx(f2, fV(f5.$0[0], f6.$0[0], f7.$0[0]));else cy(f2, fV(f5.$0[0], f6.$0[0], f7.$0[0]));} };co(fW, f3, f2);co(fX, f3, f2);co(fY, f3, f2);return f2;} }
function cj(fV){ const fW=bP(fV);if(fW.length==0)return{s:c5([])};else { const fX={s:c6([], [])};const fY=[o(fW)-1];const fZ=() => { if(fY[0]===0){ const f0=bN((f1) => { const f2=f1.s;return f2!=null&&f2.$==0?f2.$0:f2!=null&&f2.$==2?f2.$0:g("value not found by View.Sequence");}, fW);if(bS((f1) => { const f2=f1.s;return f2!=null&&f2.$==0;}, fW))cx(fX, f0);else cy(fX, f0);} else fY[0]=fY[0]-1;};bL((f0) => { co(f0, fZ, fX);}, fW);return fX;} }
function ck(fV, fW, fX){ const fY=fW.s;const fZ=fX.s;if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?{s:c5(fV(fY.$0, fZ.$0))}:cz(fV, fY.$0, fX);else if(fZ!=null&&fZ.$==0)return cA(fV, fZ.$0, fW);else { const f0={s:c6([], [])};const f1=() => { const f2=f0.s;if(!(f2!=null&&f2.$==0||f2!=null&&f2.$==2)){ const f3=cw(fW);const f4=cw(fX);if(f3!=null&&f3.$==1)if(f4!=null&&f4.$==1)if(f3.$0[1]&&f4.$0[1])cx(f0, fV(f3.$0[0], f4.$0[0]));else cy(f0, fV(f3.$0[0], f4.$0[0]));} };co(fW, f1, f0);co(fX, f1, f0);return f0;} }
function cl(fV, fW){ const fX=fV.s;const fY=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?{s:c5(null)}:fW;else if(fY!=null&&fY.$==0)return fV;else { const fZ={s:c6([], [])};const f0=() => { const f1=fZ.s;if(!(f1!=null&&f1.$==0||f1!=null&&f1.$==2)){ const f2=cw(fV);const f3=cw(fW);if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f2.$0[1]&&f3.$0[1])cx(fZ, null);else cy(fZ, null);} };co(fV, f0, fZ);co(fW, f0, fZ);return fZ;} }
function cm(fV){ const fW=fV.s;if(fW==null)return fV;else if(fW!=null&&fW.$==2){ const fX={s:c4(fW.$0, [])};cB(fV, fX);return fX;} else if(fW!=null&&fW.$==3){ const fY={s:c6([], [])};co(fV, (fZ) => { cp(fY, fV, fZ);}, fY);return fY;} else return fV;}
function cn(fV, fW){ const fX=fV.s;if(fX==null)fW();else fX!=null&&fX.$==2?fX.$1.push(fW):fX!=null&&fX.$==3?fX.$1.push(fW):void 0;}
function co(fV, fW, fX){ const fY=fV.s;if(fY==null)dM(fX);else fY!=null&&fY.$==2?(cC(fY.$1, fX),fW(fY.$0)):fY!=null&&fY.$==3?(fY.$0.push(fW),cC(fY.$1, fX)):fW(fY.$0);}
function cp(fV, fW, fX){ const fY=fW.s;if(fY!=null&&fY.$==0)cx(fV, fX);else cy(fV, fX);}
function cq(fV, fW, fX, fY){ return ch((fZ) => fV(fW, fX, fZ), fY);}
function cr(fV, fW, fX, fY){ return ch((fZ) => fV(fW, fZ, fX), fY);}
function cs(fV, fW, fX, fY){ return ck((fZ, f0) => fV(fW, fZ, f0), fX, fY);}
function ct(fV, fW, fX, fY){ return ch((fZ) => fV(fZ, fW, fX), fY);}
function cu(fV, fW, fX, fY){ return ck((fZ, f0) => fV(fZ, fW, f0), fX, fY);}
function cv(fV, fW, fX, fY){ return ck((fZ, f0) => fV(fZ, f0, fW), fX, fY);}
function cw(fV){ const fW=fV.s;return fW!=null&&fW.$==0?Y([fW.$0, true]):fW!=null&&fW.$==2?Y([fW.$0, false]):null;}
function cx(fV, fW){ const fX=fV.s;if(fX!=null&&fX.$==3){ fV.s=c5(fW);const fY=fX.$0;for(let fZ=0, f0=o(fY)-1;fZ<=f0;fZ++)(l(fY, fZ))(fW);} else void 0;}
function cy(fV, fW){ const fX=fV.s;if(fX!=null&&fX.$==3){ fV.s=c4(fW, fX.$1);const fY=fX.$0;for(let fZ=0, f0=o(fY)-1;fZ<=f0;fZ++)(l(fY, fZ))(fW);} else void 0;}
function cz(fV, fW, fX){ return ch((fY) => fV(fW, fY), fX);}
function cA(fV, fW, fX){ return ch((fY) => fV(fY, fW), fX);}
function cB(fV, fW){ const fX=fV.s;if(fX==null)dM(fW);else fX!=null&&fX.$==2?cC(fX.$1, fW):fX!=null&&fX.$==3?cC(fX.$1, fW):void 0;}
function cC(fV, fW){ fV.push(fW);if(fV.length%20===0){ const fX=fV.slice(0);fK(fV);for(let fZ=0, f0=o(fX)-1;fZ<=f0;fZ++){ const fY=l(fX, fZ);if(typeof fY=="object")(((f1) => { if(f1.s)fV.push(f1);})(fY));else(((f1) => { fV.push(f1);})(fY));} } else void 0;}
let cD=fS((fV) => class fW { static { cD=fV(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bh("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bh("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cE(fV, fW){ cF(fV, fW, null);}
function cF(fV, fW, fX){ while(true){ if(fW!=null&&fW.$==1)return cK(fV, fW.$0.El, fX);else if(fW!=null&&fW.$==2){ const fY=fW.$0;fY.Dirty=false;fW=fY.Current;} else if(fW==null)return fX;else if(fW!=null&&fW.$==4)return cK(fV, fW.$0.Text, fX);else if(fW!=null&&fW.$==5)return cK(fV, fW.$0, fX);else if(fW!=null&&fW.$==6)return bM((f1, f2) =>((((f3) =>(f4) =>(f5) => f4==null||f4.constructor===Object?cF(f3, f4, f5):cK(f3, f4, f5))(fV))(f1))(f2), fW.$0.Els, fX);else { const fZ=fW.$1;const f0=fW.$0;fW=f0;fX=cF(fV, fZ, fX);} } }
function cG(fV, fW){ return eA(eB(), cL(fV, dT(), fW));}
function cH(fV, fW, fX){ if(dC()){ const fY=null;return K(() => { const fZ=eC(fX);const f0=cP(fW, fZ);const f1=cO(fW, fZ);return L(dD(dE(f0, cN(fW, fZ))), () => L(cM(fV, fW), () => L(dD(f1), () => { fW.PreviousNodes=fZ;return M(null);})));});} else return cM(fV, fW);}
function cI(fV, fW, fX){ const fY=eC(fX);cQ(fV, fW.Top);fW.PreviousNodes=fY;}
function cJ(fV, fW){ const fX=fV.parentNode;const fY=globalThis.document.createTextNode("");fX.insertBefore(fY, fV);cT(fV, fW);return fY;}
function cK(fV, fW, fX){ dw(fV, fX, fW);return fW;}
function cL(fV, fW, fX){ cE(fV, fX);const fY=dN(fV, fW);return cY.New(fY, fX, null, fV, c1(), fP(fY.OnAfterRender));}
function cM(fV, fW){ if(dJ()){ const fX=(fY) => { requestAnimationFrame(() => { cQ(fV, fW.Top);fY();});};return P((fY, fZ, f0) => fX.apply(null, [fY, fZ, f0]));} else { cQ(fV, fW.Top);return M(null);} }
function cN(fV, fW){ return dH(bN((fX) => dV(fX.Attr), eG(eF(fW, eE((fX) => dU(fX.Attr), fV.PreviousNodes)))));}
function cO(fV, fW){ return dH(bN((fX) => dX(fX.Attr), eG(eF(fV.PreviousNodes, eE((fX) => dW(fX.Attr), fW)))));}
function cP(fV, fW){ const fX=(fZ) => dY(fZ.Attr);const fY=(fZ) => eE(fX, fZ);return dH(bN((fZ) => dZ(fZ.Attr), eG(eH(fY(fV.PreviousNodes), fY(fW)))));}
function cQ(fV, fW){!fV?cU(fW):void 0;cV(fW.Children);cW(fW);}
function cR(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cS(fV, fW){ fV.Value=fW;fV.Dirty=true;}
function cT(fV, fW){ cF(fV.parentNode, fW, fV);}
function cU(fV){ function fW(fX){ function fY(fZ){ while(true){ if(fZ!=null&&fZ.$==0){ const f0=fZ.$1;const f1=fZ.$0;if(fY(f1))return true;else fZ=f0;} else if(fZ!=null&&fZ.$==2){ const f2=fZ.$0;if(f2.Dirty)return true;else fZ=f2.Current;} else if(fZ!=null&&fZ.$==6){ const f3=fZ.$0;return f3.Dirty||bJ(fW, f3.Holes);} else return false;} } return fY(fX.Children);} d2(fV.El, fV.Attr);if(fW(fV))cX(fV);}
function cV(fV){ while(true){ if(fV!=null&&fV.$==1)return cQ(false, fV.$0);else if(fV!=null&&fV.$==2){ const fW=fV.$0;fV=fW.Current;} else if(fV==null)return null;else if(fV!=null&&fV.$==5)return null;else if(fV!=null&&fV.$==4){ const fX=fV.$0;return fX.Dirty?(fX.Text.nodeValue=fX.Value,fX.Dirty=false):null;} else if(fV!=null&&fV.$==6){ const fY=fV.$0;bL((f1) => { cQ(false, f1);}, fY.Holes);bL((f1) => { d2(f1[0], f1[1]);}, fY.Attrs);return cW(fY);} else { const fZ=fV.$1;const f0=fV.$0;cV(f0);fV=fZ;} } }
function cW(fV){ const fW=fP(fV.Render);if(fW!=null&&fW.$==1){ fW.$0(fV.El);fO(fV, "Render", null);} }
function cX(fV){ const fW=fV.El;function fX(f1, f2){ while(true){ if(f1!=null&&f1.$==1)return f1.$0.El;else if(f1!=null&&f1.$==2){ const f3=f1.$0;if(f3.Dirty){ f3.Dirty=false;return cF(fW, f3.Current, f2);} else f1=f3.Current;} else if(f1==null)return f2;else if(f1!=null&&f1.$==4)return f1.$0.Text;else if(f1!=null&&f1.$==5)return f1.$0;else if(f1!=null&&f1.$==6){ const f4=f1.$0;if(f4.Dirty)f4.Dirty=false;return bM((f7, f8) => f7==null||f7.constructor===Object?fX(f7, f8):f7, f4.Els, f2);} else { const f5=f1.$1;const f6=f1.$0;f1=f6;f2=fX(f5, f2);} } } const fY=fV.El;fA((f1) => { dx(fY, f1);}, fz(fB(fV), fy(fV.El, fP(fV.Delimiters))));let fZ=fV.Children;const f0=fP(fV.Delimiters);fX(fZ, f0!=null&&f0.$==1?f0.$0[1]:null);}
class cY { Attr;Children;Delimiters;El;ElKey;Render;Equals(fV){ return this.ElKey===fV.ElKey;} GetHashCode(){ return this.ElKey;} static New(fV, fW, fX, fY, fZ, f0){ const f1={Attr:fV, Children:fW, El:fY, ElKey:fZ};let f2=(fO(f1, "Delimiters", fX),fO(f1, "Render", f0),f1);return fT(cY, f2);} }
class cZ extends Error { ct;static New(fV){ return new this("New", fV);} static New_1(fV, fW, fX){ return new this("New_1", fV, fW, fX);} constructor(fV, fW, fX, fY){ let fZ;if(fV=="New"){ fZ=fW;fV="New_1";fW="The operation was canceled.";fX=null;fY=fZ;} if(fV=="New_1"){ const f0=fW;const f1=fX;const f2=fY;super(f0);this.inner=f1;this.ct=f2;} } }
class c0 extends j { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function c1(){ c2(c3()+1);return c3();}
function c2(fV){ eS.counter=fV;}
function c3(){ return eS.counter;}
function c4(fV, fW){ return{$:2, $0:fV, $1:fW};}
function c5(fV){ return{$:0, $0:fV};}
function c6(fV, fW){ return{$:3, $0:fV, $1:fW};}
class c7 extends bg { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fV, fW){ const fX=ey.Create(fW);const fY=bN((f1) => dO(f1[1]), fV.Attrs);let fZ=ev(c8(), dc, fY);let f0=dc(fZ, fX.v);return new c7(b4(fV), f0, l(fV.Els, 0), fX);} constructor(fV, fW, fX, fY){ super(fV, fW);this.docNode_1=fV;this.updates_1=fW;this.elt=fX;this.rvUpdates=fY;} }
function c8(fV){ const fW={s:c5(fV)};return() => fW;}
function c9(fV, fW){ function fX(){ cg(fW(), fV, () => { T().Fork(fX);});} T().Fork(fX);}
function c_(fV, fW){ return dd(() => ch(fV, fW()));}
function c$(fV, fW, fX, fY){ return dd(() => ci(fV, fW(), fX(), fY()));}
function da(fV){ return dd(() => cj(bv((fW) => fW(), fV)));}
function db(fV, fW, fX){ return dd(() => ck(fV, fW(), fX()));}
function dc(fV, fW){ return dd(() => cl(fV(), fW()));}
function dd(fV){ const fW={c:null, o:fV};return() => { let fX=fW.c;if(fX===null){ fX=fW.o();fW.c=fX;const fY=fX.s;if(fY!=null&&fY.$==0)fW.o=null;else cn(fX, () => { fW.c=null;});return fX;} else return fX;};}
function de(fV){ let fW=null;let fX=0;const fY=fV.textContent;const fZ=new RegExp(bf(), "g");while(fW=fZ.exec(fY),fW!==null){ fV.parentNode.insertBefore(globalThis.document.createTextNode(dm(fY, Y(fX), Y(fZ.lastIndex-l(fW, 0).length-1))), fV);fX=fZ.lastIndex;const f0=globalThis.document.createElement("span");f0.setAttribute("ws-replace", l(fW, 1).toLowerCase());fV.parentNode.insertBefore(f0, fV);} fZ.lastIndex=0;fV.textContent=dm(fY, Y(fX), null);}
function df(fV){ console.warn("Instantiating non-loaded template", fV);}
function dg(fV, fW, fX){ const fY=fV.querySelector("[ws-replace]");return u(fY, null)?(console.warn("Filling non-existent text hole", fX),null):(fY.parentNode.replaceChild(globalThis.document.createTextNode(fW), fY),Y(fY.getAttribute("ws-replace")));}
function dh(fV, fW){ const fX=(fY) => { bc(fV, "["+fY+"]", (fZ) => { if(!fW.Contains(fZ.getAttribute(fY)))fZ.removeAttribute(fY);});};fX("ws-attr");fX("ws-onafterrender");fX("ws-var");bc(fV, "[ws-hole]", (fY) => { if(!fW.Contains(fY.getAttribute("ws-hole"))){ fY.removeAttribute("ws-hole");while(fY.hasChildNodes())fY.removeChild(fY.lastChild);} });bc(fV, "[ws-replace]", (fY) => { if(!fW.Contains(fY.getAttribute("ws-replace")))fY.parentNode.removeChild(fY);});bc(fV, "[ws-on]", (fY) => { fY.setAttribute("ws-on", en(" ", bO((fZ) => fW.Contains(l(eo(fZ, [":"], 1), 1)), eo(fY.getAttribute("ws-on"), [" "], 1))));});bc(fV, "[ws-attr-holes]", (fY) => { const fZ=eo(fY.getAttribute("ws-attr-holes"), [" "], 1);for(let f3=0, f4=fZ.length-1;f3<=f4;f3++){ const f0=l(fZ, f3);let f1=new RegExp(bf(), "g");let f2=fY.getAttribute(f0).replace(f1, (f5, f6) => fW.Contains(f6)?f5:"");fY.setAttribute(f0, f2);} });}
function di(fV, fW){ dl(fW);const fX=fW.nodeName.toLowerCase();const fY=fV.querySelector("[ws-attr="+fX+"]");if(u(fY, null))console.warn("Filling non-existent attr hole", fX);else { fY.removeAttribute("ws-attr");for(let f0=0, f1=fW.attributes.length-1;f0<=f1;f0++){ const fZ=fW.attributes.item(f0);if(fZ.name=="class"&&fY.hasAttribute("class"))fY.setAttribute("class", fY.getAttribute("class")+" "+fZ.nodeValue);else fY.setAttribute(fZ.name, fZ.nodeValue);} } }
function dj(fV, fW){ const fX=(fY) => { bc(fV, "["+fY+"]", (fZ) => { let f0;const f1=(f0=null,[fW.TryGetValue(fZ.getAttribute(fY).toLowerCase(), {get:() => f0, set:(f2) => { f0=f2;}}), f0]);if(f1[0])fZ.setAttribute(fY, f1[1]);});};fX("ws-hole");fX("ws-replace");fX("ws-attr");fX("ws-onafterrender");fX("ws-var");bc(fV, "[ws-on]", (fY) => { fY.setAttribute("ws-on", en(" ", bN((fZ) => { let f0;const f1=eo(fZ, [":"], 1);const f2=(f0=null,[fW.TryGetValue(l(f1, 1), {get:() => f0, set:(f3) => { f0=f3;}}), f0]);return f2[0]?l(f1, 0)+":"+f2[1]:fZ;}, eo(fY.getAttribute("ws-on"), [" "], 1))));});bc(fV, "[ws-attr-holes]", (fY) => { const fZ=eo(fY.getAttribute("ws-attr-holes"), [" "], 1);for(let f0=0, f1=fZ.length-1;f0<=f1;f0++)((() => { const f2=l(fZ, f0);return fY.setAttribute(f2, bt((f3, f4) => { const f5=h(f4);return f3.replace(new RegExp("\\${"+f5[0]+"}", "ig"), "${"+f5[1]+"}");}, fY.getAttribute(f2), fW));})());});}
function dk(fV, fW, fX){ while(true){ if(fV.hasChildNodes())fX=fW.insertBefore(fV.lastChild, fX);else return null;} }
function dl(fV){ const fW=fV.attributes;const fX=[];const fY=[];const fZ=[];for(let f4=0, f5=fW.length-1;f4<=f5;f4++){ const f0=fW.item(f4);if(ep(f0.nodeName, "ws-on")&&f0.nodeName!="ws-onafterrender"&&f0.nodeName!="ws-on"){ fX.push(f0.nodeName);fY.push(dm(f0.nodeName, Y("ws-on".length), null)+":"+f0.nodeValue.toLowerCase());} else if(!ep(f0.nodeName, "ws-")&&(new RegExp(bf())).test(f0.nodeValue)){ let f1=new RegExp(bf(), "g");let f2=f0.nodeValue.replace(f1, (f6, f7) =>"${"+f7.toLowerCase()+"}");f0.nodeValue=f2;fZ.push(f0.nodeName);} else void 0;} if(!(fY.length==0))fV.setAttribute("ws-on", en(" ", fY));if(!(fZ.length==0))fV.setAttribute("ws-attr-holes", en(" ", fZ));const f3=(f6) => { const f7=fV.getAttribute(f6);if(f7==null){ } else fV.setAttribute(f6, f7.toLowerCase());};f3("ws-hole");f3("ws-replace");f3("ws-attr");f3("ws-onafterrender");f3("ws-var");bL((f6) => { fV.removeAttribute(f6);}, fX);}
function dm(fV, fW, fX){ if(fW==null){ if(fX!=null&&fX.$==1){ const fY=fX.$0;return fY<0?"":fV.slice(0, fY+1);} else return"";} else if(fX==null)return fV.slice(fW.$0);else { const fZ=fX.$0;return fZ<0?"":fV.slice(fW.$0, fZ+1);} }
function dn(fV){ const fW=globalThis.document.createElement("div");if(!dp().test(fV)){ fW.appendChild(globalThis.document.createTextNode(fV));return fW;} else { const fX=dt().exec(fV);const fY=u(fX, null)?"":l(fX, 1).toLowerCase();const fZ=(dq())[fY];const f0=fZ?fZ:dr();fW.innerHTML=f0[1]+fV.replace(ds(), "<$1></$2>")+f0[2];function f1(f2, f3){ while(true){ if(f3===0)return f2;else { const f4=f3;f2=f2.lastChild;f3=f4-1;} } } return f1(fW, f0[0]);} }
function do_1(fV){ const fW=[];for(let fX=0, fY=fV.childNodes.length-1;fX<=fY;fX++)fW.push(fV.childNodes[fX]);return fW;}
function dp(){ return eT.rhtml;}
function dq(){ return eT.wrapMap;}
function dr(){ return eT.defaultWrap;}
function ds(){ return eT.rxhtmlTag;}
function dt(){ return eT.rtagName;}
function du(fV, fW, fX){ const fY=fV.querySelectorAll(fW);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)fX(fY[fZ]);}
function dv(fV, fW){ const fX=globalThis.document.querySelectorAll(fV);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)fW(fX[fY]);}
function dw(fV, fW, fX){ let fY;if(fX.parentNode===fV){ const fZ=fX.nextSibling;let f0=u(fZ, null)?null:fZ;fY=fW===f0;} else fY=false;if(!fY)fV.insertBefore(fX, fW);}
function dx(fV, fW){ if(fW.parentNode===fV)fV.removeChild(fW);}
function dy(){ return g("The input sequence has an insufficient number of elements.");}
function dz(fV, fW){ let fX=true;let fY=0;while(fX&&fY<o(fW))if(u(fW[fY], fV))fX=false;else fY=fY+1;return!fX;}
function dA(){ return g("The input must be non-negative.");}
class dB extends j { d;GetEnumerator(){ return ca(bv((fV) => fV.K, this.d));} constructor(fV){ super();this.d=fV;} }
function dC(){ return eI();}
function dD(fV){ const fW=null;return K(() => L(dF(() => { }, eJ(fV)), () => { eK(fV);return M(null);}));}
function dE(fV, fW){ return dG(eV(fV.$0, fW.$0));}
function dF(fV, fW){ const fX=fW.Duration;if(fX===0)return U();else { const fY=(fZ) => { function f0(f1){ return(f2) => { const f3=f2-f1;fW.Compute(f3);fV();return f3<=fX?void requestAnimationFrame((f4) => {(f0(f1))(f4);}):fZ();};} requestAnimationFrame((f1) => {(f0(f1))(f1);});};return P((fZ, f0, f1) => fY.apply(null, [fZ, f0, f1]));} }
function dG(fV){ return{$:0, $0:fV};}
function dH(fV){ return dG(eX(bv(eM, fV)));}
function dI(){ return dG(eY());}
function dJ(){ return eQ.BatchUpdatesEnabled;}
function dK(fV){ const fW=[0];function fX(){ const fY=null;return K(() => L(fV, () => { const fZ=fW[0];return u(fZ, 1)?(fW[0]=0,U()):u(fZ, 2)?(fW[0]=1,fX()):U();}));} return() => { const fY=fW[0];if(u(fY, 0)){ fW[0]=1;V(fX(), null);} else u(fY, 1)?fW[0]=2:void 0;};}
function dL(fV, fW, fX, fY){ const fZ={DynElem:fV, DynFlags:fW, DynNodes:fX};fO(fZ, "OnAfterRender", fY);return fZ;}
function dM(fV){ let fW;const fX=fV.s;if(fX==null||(fX!=null&&fX.$==2?(fW=fX.$1,false):fX!=null&&fX.$==3?(fW=fX.$1,false):true))void 0;else { fV.s=null;for(let fZ=0, f0=o(fW)-1;fZ<=f0;fZ++){ const fY=l(fW, fZ);if(typeof fY=="object")(((f1) => { dM(f1);})(fY));else fY();} } }
function dN(fV, fW){ const fX=[];const fY=[];function fZ(f2){ while(true){ if(!(f2===null)){ if(f2!=null&&f2.$==1)return fX.push(f2.$0);else if(f2!=null&&f2.$==2){ const f3=f2.$1;const f4=f2.$0;fZ(f4);f2=f3;} else return f2!=null&&f2.$==3?f2.$0(fV):f2!=null&&f2.$==4?fY.push(f2.$0):null;} else return null;} } fZ(fW);const f0=fX.slice(0);let f1=dL(fV, dQ(fW), f0, fY.length===0?null:Y((f2) => { bu((f3) => { f3(f2);}, fY);}));return f1;}
function dO(fV){ return ew((fW) => fW.NChanged, c8(), dc, fV.DynNodes);}
function dP(fV){ return dL(fV, 0, [], null);}
function dQ(fV){ return fV!==null&&fV.hasOwnProperty("flags")?fV.flags:0;}
function dR(fV){ return eh.A3(fV);}
function dS(fV, fW){ return eh.A1(new eZ(fV, fW));}
function dT(){ return e1.EmptyAttr;}
function dU(fV){ const fW=2;return(fV.DynFlags&fW)===fW;}
function dV(fV){ return d1(fV, (fW, fX) => fW.NGetExitAnim(fX));}
function dW(fV){ const fW=1;return(fV.DynFlags&fW)===fW;}
function dX(fV){ return d1(fV, (fW, fX) => fW.NGetEnterAnim(fX));}
function dY(fV){ const fW=4;return(fV.DynFlags&fW)===fW;}
function dZ(fV){ return d1(fV, (fW, fX) => fW.NGetChangeAnim(fX));}
function d0(fV, fW){ if(fV===null)return fW;else if(fW===null)return fV;else { const fX=eh.A2(fV, fW);d3(fX, dQ(fV)|dQ(fW));return fX;} }
function d1(fV, fW){ return dH(bN((fX) => fW(fX, fV.DynElem), fV.DynNodes));}
function d2(fV, fW){ bL((fX) => { fX.NSync(fV);}, fW.DynNodes);}
function d3(fV, fW){ fV.flags=fW;}
class d4 extends H { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d5 extends H { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return ek(this.fillWith);} }
class d6 extends H { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d7 extends H { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d8(fV, fW){ return dR((fX) => { fX.addEventListener(fV, (fY) =>(fW(fX))(fY), false);});}
function d9(fV){ return eh.A4(fV);}
function d_(fV, fW){ return dS(fW, (fX) =>(fY) => fX.setAttribute(fV, fY));}
function d$(fV){ return ef(fq(), fV);}
function ea(fV){ return ef(fr(), fV);}
function eb(fV){ return ef(fs(), fV);}
function ec(fV){ return ef(ft(), fV);}
function ed(fV){ return ef(fu(), fV);}
function ee(fV){ return ef(fv(), fV);}
function ef(fV, fW){ const fX=fV(fW);return eh.Append(dR(fX[0]), eg(fX[1], fX[2]));}
function eg(fV, fW){ return dS(fW, fV);}
class eh { static Handler(fV, fW){ return eh.HandlerImpl(fV, fW);} static Concat(fV){ const fW=ex(fV);return ev(dT(), eh.Append, fW);} static Create(fV, fW){ return dR((fX) => { fX.setAttribute(fV, fW);});} static HandlerImpl(fV, fW){ return dR((fX) => { fX.addEventListener(fV, (fY) =>(fW(fX))(fY), false);});} static Append(fV, fW){ return d0(fV, fW);} static A4(fV){ return fT(eh, {$:4, $0:fV});} static A3(fV){ return fT(eh, {$:3, $0:fV});} static A1(fV){ return fT(eh, {$:1, $0:fV});} static A2(fV, fW){ return fT(eh, {$:2, $0:fV, $1:fW});} }
class ei extends H { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ej extends H { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ek(fV){ return{$:0, $0:fV};}
function el(fV){ return{$:1, $0:fV};}
class em { static Cons(fV, fW){ return fT(em, {$:1, $0:fV, $1:fW});} static Empty=fT(em, {$:0});GetEnumerator(){ return new ce(this, null, (fV) => { const fW=fV.s;return fW.$==0?false:(fV.c=fW.$0,fV.s=fW.$1,true);}, void 0);} }
function en(fV, fW){ return bP(fW).join(fV);}
function eo(fV, fW, fX){ return eq(fV, new RegExp("["+er(fW.join(""))+"]"), fX);}
function ep(fV, fW){ return fV.substring(0, fW.length)==fW;}
function eq(fV, fW, fX){ return fX===1?bO((fY) => fY!=="", es(fV, fW)):es(fV, fW);}
function er(fV){ return fV.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function es(fV, fW){ return fV.split(fW);}
function et(fV, fW){ return bE(fV, eu(fW));}
function eu(fV){ return fV==null?"":fV;}
function ev(fV, fW, fX){ const fY=o(fX);function fZ(f0){ return(f1) => { let f2;switch(f1<=0?0:f1===1?f0>=0&&f0<fY?1:(f2=f1,2):(f2=f1,2)){ case 0:return fV;case 1:return l(fX, f0);case 2:const f3=f1/2>>0;return fW((fZ(f0))(f3), (fZ(f0+f3))(f1-f3));} };} return(fZ(0))(fY);}
function ew(fV, fW, fX, fY){ const fZ=o(fY);function f0(f1){ return(f2) => { let f3;switch(f2<=0?0:f2===1?f1>=0&&f1<fZ?1:(f3=f2,2):(f3=f2,2)){ case 0:return fW;case 1:return fV(l(fY, f1));case 2:const f4=f2/2>>0;return fX((f0(f1))(f4), (f0(f1+f4))(f2-f4));} };} return(f0(0))(fZ);}
function ex(fV){ if(fV instanceof Array)return fV;else if(fV instanceof em)return bR(fV);else if(fV===null)return[];else { const fW=[];const fX=ca(fV);try { while(fX.MoveNext())fW.push(fX.Current);return fW;} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} } }
class ey { c;s;v;static Create(fV){ let fW;fW=null;fW=ey.New(fV, null, () => { let fX;fX=fW.s;return fX===null?(fX=cm(fW.c()),fW.s=fX,cn(fX, () => { fW.s=null;}),fX):fX;});return fW;} static New(fV, fW, fX){ return fT(ey, {c:fV, s:fW, v:fX});} }
class ez extends j { d;GetEnumerator(){ return ca(bv((fV) => fV.V, this.d));} constructor(fV){ super();this.d=fV;} }
function eA(fV, fW){ return{PreviousNodes:fV, Top:fW};}
function eB(){ return eD(new bq("New_3"));}
function eC(fV){ const fW=[];function fX(f0, f1){ while(true)switch(f0){ case 0:if(f1!=null&&f1.$==0){ const f2=f1.$1;const f3=f1.$0;fX(0, f3);f1=f2;} else if(f1!=null&&f1.$==1){ const f4=f1.$0;f1=f4;f0=1;} else if(f1!=null&&f1.$==2){ const f5=f1.$0;f1=f5.Current;} else if(f1!=null&&f1.$==6){ const f6=f1.$0.Holes;return(((f7) =>(f8) => { bL(f7, f8);})(fZ))(f6);} else return null;break;case 1:fW.push(f1);f1=f1.Children;f0=0;break;} } function fY(f0){ return fX(0, f0);} function fZ(f0){ return fX(1, f0);} fY(fV);return eD(new bq("New_2", fW));}
function eD(fV){ return{$:0, $0:fV};}
function eE(fV, fW){ return eD(e3(fV, fW.$0));}
function eF(fV, fW){ return eD(e4(fV.$0, fW.$0));}
function eG(fV){ return e5(fV.$0);}
function eH(fV, fW){ return eD(e6(fV.$0, fW.$0));}
function eI(){ return eU.UseAnimations;}
function eJ(fV){ return eL(bG((fW) => fW.$==1?Y(fW.$0):null, eW(fV.$0)));}
function eK(fV){ bL((fW) => { if(fW.$==0)fW.$0();}, eW(fV.$0));}
function eL(fV){ const fW=ex(fV);const fX=o(fW);if(fX===0)return eN();else if(fX===1)return l(fW, 0);else { const fY=by(bv((f0) => f0.Duration, fW));const fZ=bN((f0) => eP(fY, f0), fW);return eO(fY, (f0) => { bL((f1) => { f1.Compute(f0);}, fZ);});} }
function eM(fV){ return fV.$0;}
function eN(fV){ return eO(0, () => fV);}
function eO(fV, fW){ return{Compute:fW, Duration:fV};}
function eP(fV, fW){ const fX=fW.Compute;const fY=fW.Duration;const fZ=fG(() => fW.Compute(fW.Duration));return{Compute:(f0) => f0>=fY?fZ.f():fX(f0), Duration:fV};}
let eQ=fS((fV) => class fW { static { eQ=fV(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eR(fV){ let fW=[];let fX;for(var fY in fV)fW.push.apply(fW, fV[fY]);return fW;}
let eS=fS((fV) => class fW { static { eS=fV(this);} static counter;static { this.counter=0;} });
let eT=fS((fV) => class fW { static { eT=fV(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fX=[1, "<table>", "</table>"];let fY=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fX], ["tbody", fX], ["tfoot", fX], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fY;this.defaultWrap=[0, "", ""];} });
let eU=fS((fV) => class fW { static { eU=fV(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e2.Custom((fX) => { const fY=fX*fX;return 3*fY-2*(fY*fX);});this.UseAnimations=true;} });
function eV(fV, fW){ return fV.$==0?fW:fW.$==0?fV:{$:2, $0:fV, $1:fW};}
function eW(fV){ const fW=[];function fX(fY){ while(true){ if(fY.$==1)return fW.push(fY.$0);else if(fY.$==2){ const fZ=fY.$1;const f0=fY.$0;fX(f0);fY=fZ;} else return fY.$==3?bL((f1) => { fW.push(f1);}, fY.$0):null;} } fX(fV);return fW.slice(0);}
function eX(fV){ const fW=ex(fV);return ev(eY(), eV, fW);}
function eY(){ return fJ.Empty;}
class eZ extends j { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fV){ return dI();} NGetEnterAnim(fV){ return dI();} NGetChangeAnim(fV){ return dI();} NSync(fV){ if(this.dirty){(this.push(fV))(this.value);this.dirty=false;} } constructor(fV, fW){ super();this.push=fW;this.value=void 0;this.dirty=false;this.updates=c_((fX) => { this.value=fX;this.dirty=true;}, fV);} }
class e0 extends Error { static New(){ return new this("New");} static New_1(fV){ return new this("New_1", fV);} constructor(fV, fW){ if(fV=="New"){ fV="New_1";fW="The given key was not present in the dictionary.";} if(fV=="New_1"){ const fX=fW;super(fX);} } }
let e1=fS((fV) => class fW { static { e1=fV(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gb) =>[(gc) => { gc.addEventListener("change", () => gb.Get()!=gc.checked?gb.Set(gc.checked):null);}, (gc) =>(gd) => gd!=null&&gd.$==1?void(gc.checked=gd.$0):null, c_(Y, gb.View)];this.StringSet=(gb) =>(gc) => { gb.value=gc;};this.StringGet=(gb) => Y(gb.value);const fX=fa();const fY=e$();this.StringApply=(gb) => e_(fX, fY, gb);this.StringListSet=(gb) =>(gc) => { const gd=gb.options;for(let ge=0, gf=gd.length-1;ge<=gf;ge++)((() => { const gg=gd.item(ge);gg.selected=dz(gg.value, gc);})());};this.StringListGet=(gb) => { const gc=gb.selectedOptions;return Y(bP(bw(() => bx((gd) =>[gc.item(gd).value], i(0, gc.length-1)))));};const fZ=fc();const f0=fb();this.StringListApply=(gb) => e_(fZ, f0, gb);this.DateTimeSetUnchecked=(gb) =>(gc) => { gb.value=(new Date(gc)).toLocaleString();};this.DateTimeGetUnchecked=(gb) => { let gc;let gd;const ge=gb.value;if(fw(ge))return Y(-8640000000000000);else { gc=0;const gf=fE(ge);let gg=gf!=null&&gf.$==1&&(gc=gf.$0,true);gd=[gg, gc];return gd[0]?Y(gd[1]):null;} };const f1=fe();const f2=fd();this.DateTimeApplyUnchecked=(gb) => e_(f1, f2, gb);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gb) => { const gc=gb.files;return Y(bP(bw(() => bv((gd) => gc.item(gd), i(0, gc.length-1)))));};const f3=fh();const f4=fg();this.FileApplyUnchecked=(gb) => ff(f3, f4, gb);this.IntSetUnchecked=(gb) =>(gc) => { gb.value=String(gc);};this.IntGetUnchecked=(gb) => { const gc=gb.value;if(fw(gc))return Y(0);else { const gd=+gc;return gd!==gd>>0?null:Y(gd);} };const f5=fj();const f6=fi();this.IntApplyUnchecked=(gb) => e_(f5, f6, gb);this.IntSetChecked=(gb) =>(gc) => { const gd=gc.Input;return gb.value!=gd?void(gb.value=gd):null;};this.IntGetChecked=(gb) => { let gc;let gd;const ge=gb.value;if(fw(ge))gc=(gb.checkValidity?gb.checkValidity():true)?fx.Blank(ge):fx.Invalid(ge);else { const gf=(gd=0,[b8(ge, {get:() => gd, set:(gg) => { gd=gg;}}), gd]);gc=gf[0]?fx.Valid(gf[1], ge):fx.Invalid(ge);} return Y(gc);};const f7=fl();const f8=fk();this.IntApplyChecked=(gb) => e_(f7, f8, gb);this.FloatSetUnchecked=(gb) =>(gc) => { gb.value=String(gc);};this.FloatGetUnchecked=(gb) => { const gc=gb.value;if(fw(gc))return Y(0);else { const gd=+gc;return isNaN(gd)?null:Y(gd);} };const f9=fn();const f_=fm();this.FloatApplyUnchecked=(gb) => e_(f9, f_, gb);this.FloatSetChecked=(gb) =>(gc) => { const gd=gc.Input;return gb.value!=gd?void(gb.value=gd):null;};this.FloatGetChecked=(gb) => { let gc;const gd=gb.value;if(fw(gd))gc=(gb.checkValidity?gb.checkValidity():true)?fx.Blank(gd):fx.Invalid(gd);else { const ge=+gd;gc=isNaN(ge)?fx.Invalid(gd):fx.Valid(ge, gd);} return Y(gc);};const f$=fp();const ga=fo();this.FloatApplyChecked=(gb) => e_(f$, ga, gb);} });
class e2 extends j { transformTime;static Custom(fV){ return new e2(fV);} constructor(fV){ super();this.transformTime=fV;} }
function e3(fV, fW){ return new bq("New_2", bO(fV, e5(fW)));}
function e4(fV, fW){ const fX=new bq("New_2", e5(fW));fX.ExceptWith(e5(fV));return fX;}
function e5(fV){ const fW=bT(fV.Count, void 0);fV.CopyTo(fW, 0);return fW;}
function e6(fV, fW){ const fX=new bq("New_2", e5(fV));fX.IntersectWith(e5(fW));return fX;}
function e7(fV){ return fV.$==1?fV.$0:e9();}
function e8(fV){ return fV.$==1?fV.$1:e9();}
function e9(){ return g("The input list was empty.");}
function e_(fV, fW, fX){ let fY;fY=null;return[(fZ) => { const f0=() => { fX.UpdateMaybe((f1) => { let f2;fY=fV(fZ);return fY!=null&&fY.$==1&&(!u(fY.$0, f1)&&(f2=[fY, fY.$0],true))?f2[0]:null;});};fZ.addEventListener("change", f0);fZ.addEventListener("input", f0);fZ.addEventListener("keypress", f0);}, (fZ) => { const f0=fW(fZ);return(f1) => f1==null?null:f0(f1.$0);}, c_((fZ) => { let f0;return fY!=null&&fY.$==1&&(u(fY.$0, fZ)&&(f0=fY.$0,true))?null:Y(fZ);}, fX.View)];}
function e$(){ return e1.StringSet;}
function fa(){ return e1.StringGet;}
function fb(){ return e1.StringListSet;}
function fc(){ return e1.StringListGet;}
function fd(){ return e1.DateTimeSetUnchecked;}
function fe(){ return e1.DateTimeGetUnchecked;}
function ff(fV, fW, fX){ let fY;fY=null;return[(fZ) => { fZ.addEventListener("change", () => { fX.UpdateMaybe((f0) => { let f1;fY=fV(fZ);return fY!=null&&fY.$==1&&(fY.$0!==f0&&(f1=[fY, fY.$0],true))?f1[0]:null;});});}, (fZ) => { const f0=fW(fZ);return(f1) => f1==null?null:f0(f1.$0);}, c_((fZ) => { let f0;return fY!=null&&fY.$==1&&(u(fY.$0, fZ)&&(f0=fY.$0,true))?null:Y(fZ);}, fX.View)];}
function fg(){ return e1.FileSetUnchecked;}
function fh(){ return e1.FileGetUnchecked;}
function fi(){ return e1.IntSetUnchecked;}
function fj(){ return e1.IntGetUnchecked;}
function fk(){ return e1.IntSetChecked;}
function fl(){ return e1.IntGetChecked;}
function fm(){ return e1.FloatSetUnchecked;}
function fn(){ return e1.FloatGetUnchecked;}
function fo(){ return e1.FloatSetChecked;}
function fp(){ return e1.FloatGetChecked;}
function fq(){ return e1.StringApply;}
function fr(){ return e1.FloatApplyUnchecked;}
function fs(){ return e1.BoolCheckedApply;}
function ft(){ return e1.DateTimeApplyUnchecked;}
function fu(){ return e1.FileApplyUnchecked;}
function fv(){ return e1.StringListApply;}
function fw(fV){ return et(fD, fV);}
class fx { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fV){ return fT(fx, {$:2, $0:fV});} static Invalid(fV){ return fT(fx, {$:1, $0:fV});} static Valid(fV, fW){ return fT(fx, {$:0, $0:fV, $1:fW});} }
function fy(fV, fW){ let fX;if(fW!=null&&fW.$==1){ const fY=[];fX=fW.$0[0].nextSibling;while(fX!==fW.$0[1]){ fY.push(fX);fX=fX.nextSibling;} return fC(fY);} else { let fZ=fV.childNodes.length;const f0=fV.childNodes;let f1=bU(fZ, (f2) => f0[f2]);return fC(f1);} }
function fz(fV, fW){ const fX=fV.$0;return fC(bO((fY) => bS((fZ) =>!(fY===fZ), fX), fW.$0));}
function fA(fV, fW){ bL(fV, fW.$0);}
function fB(fV){ const fW=[];function fX(fY){ while(true){ if(fY!=null&&fY.$==2){ const fZ=fY.$0;fY=fZ.Current;} else if(fY!=null&&fY.$==1)return fW.push(fY.$0.El);else if(fY==null)return null;else if(fY!=null&&fY.$==5)return fW.push(fY.$0);else if(fY!=null&&fY.$==4)return fW.push(fY.$0.Text);else if(fY!=null&&fY.$==6){ const f0=fY.$0.Els;return(((f3) =>(f4) => { bL(f3, f4);})((f3) => { if(f3==null||f3.constructor===Object)fX(f3);else fW.push(f3);}))(f0);} else { const f1=fY.$1;const f2=fY.$0;fX(f2);fY=f1;} } } fX(fV.Children);return fC(ex(fW));}
function fC(fV){ return{$:0, $0:fV};}
function fD(fV){ return fV.match(new RegExp("\\s"))!==null;}
function fE(fV){ const fW=Date.parse(fV);return isNaN(fW)?null:Y(fW);}
function fF(fV, fW, fX, fY){ const fZ=+fV;const f0=fZ===fZ-fZ%1&&fZ>=fW&&fZ<=fX;if(f0)fY.set(fZ);return f0;}
function fG(fV){ return fL(false, fV, fH);}
function fH(){ const fV=this.v();this.c=true;this.v=fV;this.f=fI;return fV;}
function fI(){ return this.v;}
let fJ=fS((fV) => class fW { static { fJ=fV(this);} static Empty;static { this.Empty={$:0};} });
function fK(fV){ fV.splice(0, o(fV));}
function fL(fV, fW, fX){ return{c:fV, v:fW, f:fX};}
fU(() => { b();});
fM();

